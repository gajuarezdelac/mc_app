const initScript = [
  'CREATE TABLE VariablesSistema('
      'VariableSistemaId TEXT PRIMARY KEY,'
      'Valor TEXT,'
      'Descripcion TEXT,'
      'RegBorrado INTEGER DEFAULT 0'
      ');',
  'CREATE TABLE IF NOT EXISTS Sincronizaciones('
      'SincronizacionId INTEGER PRIMARY KEY,'
      'FechaUltimaActualizacion TEXT,'
      'SiteId TEXT,'
      'NombrePlataforma TEXT,'
      'Estatus INTEGER,'
      'TablasNoProcesadas TEXT,'
      'UltTablaProcesada TEXT,'
      'TipoSincronizacion INTEGER,'
      'RegBorrado INTEGER DEFAULT 0,'
      'RegCreadoPor TEXT,'
      'RegFechaCreacion TEXT'
      ');',
  'CREATE TABLE IF NOT EXISTS Contratos ('
      'ContratoId	TEXT PRIMARY KEY NOT NULL,'
      'ContratoNombre	TEXT,'
      'Nombre	TEXT,'
      'FechaTermino	TEXT,'
      'RegBorrado	INTEGER  DEFAULT 0'
      ');'
];

const importScript = [
  "INSERT INTO VariablesSistema(VariableSistemaId, Valor, Descripcion) VALUES('DISPOSITIVO','XXXXXXYYZZZZZZW','Identificador del dispositivo para sincronizaci√≥n diferencial');",
  "CREATE TRIGGER tU_Junta "
      "AFTER UPDATE ON Junta "
      "BEGIN "
      "UPDATE Junta "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE JuntaId=NEW.JuntaId; "
      "END;",
  "CREATE TRIGGER tU_AvanceJunta "
      "AFTER UPDATE ON AvanceJunta "
      "BEGIN "
      "UPDATE AvanceJunta "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE AvanceJuntaId=NEW.AvanceJuntaId; "
      "END;",
  "CREATE TRIGGER tU_PlanoDetalle "
      "AFTER UPDATE ON PlanoDetalle "
      "BEGIN "
      "UPDATE PlanoDetalle "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE PlanoDetalleId=NEW.PlanoDetalleId; "
      "END;",
  "CREATE TRIGGER tU_PlanInspeccionD "
      "AFTER UPDATE ON PlanInspeccionD "
      "BEGIN "
      "UPDATE PlanInspeccionD "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoPlanInspeccion=NEW.NoPlanInspeccion AND SiteId=NEW.SiteId AND PropuestaTecnicaId=NEW.PropuestaTecnicaId AND ActividadId=NEW.ActividadId AND SubActividadId=NEW.SubActividadId; "
      "END;",
  "CREATE TRIGGER tI_Conformado "
      "AFTER INSERT ON Conformado "
      "BEGIN "
      "UPDATE Conformado "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.ConformadoId "
      "ELSE '' END "
      "WHERE ConformadoId=NEW.ConformadoId; "
      "END;",
  "CREATE TRIGGER tU_Conformado "
      "AFTER UPDATE ON Conformado "
      "BEGIN "
      "UPDATE Conformado "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE ConformadoId=NEW.ConformadoId; "
      "END;",
  "CREATE TRIGGER tI_Soldadura "
      "AFTER INSERT ON Soldadura "
      "BEGIN "
      "UPDATE Soldadura "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.SoldaduraId "
      "ELSE '' END "
      "WHERE SoldaduraId=NEW.SoldaduraId; "
      "END;",
  "CREATE TRIGGER tU_Soldadura "
      "AFTER UPDATE ON Soldadura "
      "BEGIN "
      "UPDATE Soldadura "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE SoldaduraId=NEW.SoldaduraId; "
      "END;",
  "CREATE TRIGGER tI_EmpleadosSoldadura "
      "AFTER INSERT ON EmpleadosSoldadura "
      "BEGIN "
      "UPDATE EmpleadosSoldadura "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.FolioSoldadura "
      "ELSE '' END "
      "WHERE FolioSoldadura=NEW.FolioSoldadura; "
      "END;",
  "CREATE TRIGGER tU_EmpleadosSoldadura "
      "AFTER UPDATE ON EmpleadosSoldadura "
      "BEGIN "
      "UPDATE EmpleadosSoldadura "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE FolioSoldadura=NEW.FolioSoldadura; "
      "END;",
  "CREATE TRIGGER tI_RegistroSoldadura "
      "AFTER INSERT ON RegistroSoldadura "
      "BEGIN "
      "UPDATE RegistroSoldadura "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.RegistroSoldaduraId "
      "ELSE '' END "
      "WHERE RegistroSoldaduraId=NEW.RegistroSoldaduraId; "
      "END;",
  "CREATE TRIGGER tU_RegistroSoldadura "
      "AFTER UPDATE ON RegistroSoldadura "
      "BEGIN "
      "UPDATE RegistroSoldadura "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE RegistroSoldaduraId=NEW.RegistroSoldaduraId; "
      "END;",
  "CREATE TRIGGER tI_CuadranteSoldadura "
      "AFTER INSERT ON CuadranteSoldadura "
      "BEGIN "
      "UPDATE CuadranteSoldadura "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.CuadranteSoldaduraId "
      "ELSE '' END "
      "WHERE CuadranteSoldaduraId=NEW.CuadranteSoldaduraId; "
      "END;",
  "CREATE TRIGGER tU_CuadranteSoldadura "
      "AFTER UPDATE ON CuadranteSoldadura "
      "BEGIN "
      "UPDATE CuadranteSoldadura "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE CuadranteSoldaduraId=NEW.CuadranteSoldaduraId; "
      "END;",
  "CREATE TRIGGER tI_ZonaSoldadura "
      "AFTER INSERT ON ZonaSoldadura "
      "BEGIN "
      "UPDATE ZonaSoldadura "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.ZonaSoldaduraId "
      "ELSE '' END "
      "WHERE ZonaSoldaduraId=NEW.ZonaSoldaduraId; "
      "END;",
  "CREATE TRIGGER tU_ZonaSoldadura "
      "AFTER UPDATE ON ZonaSoldadura "
      "BEGIN "
      "UPDATE ZonaSoldadura "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE ZonaSoldaduraId=NEW.ZonaSoldaduraId; "
      "END;",
  "CREATE TRIGGER tI_VolumenTrazabilidad "
      "AFTER INSERT ON VolumenTrazabilidad "
      "BEGIN "
      "UPDATE VolumenTrazabilidad "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.ConformadoId||','||NEW.IdTrazabilidad||','||CAST(NEW.Trazabilidad1 As TEXT) "
      "ELSE '' END "
      "WHERE ConformadoId=NEW.ConformadoId AND IdTrazabilidad=NEW.IdTrazabilidad AND Trazabilidad1=NEW.Trazabilidad1; "
      "END;",
  "CREATE TRIGGER tU_VolumenTrazabilidad "
      "AFTER UPDATE ON VolumenTrazabilidad "
      "BEGIN "
      "UPDATE VolumenTrazabilidad "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE ConformadoId=NEW.ConformadoId AND IdTrazabilidad=NEW.IdTrazabilidad AND Trazabilidad1=NEW.Trazabilidad1; "
      "END;",
  "CREATE TRIGGER tI_EmpleadosConformado "
      "AFTER INSERT ON EmpleadosConformado "
      "BEGIN "
      "UPDATE EmpleadosConformado "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.EmpleadoId||','||NEW.ConformadoId "
      "ELSE '' END "
      "WHERE EmpleadoId=NEW.EmpleadoId AND ConformadoId=NEW.ConformadoId; "
      "END;",
  "CREATE TRIGGER tU_EmpleadosConformado "
      "AFTER UPDATE ON EmpleadosConformado "
      "BEGIN "
      "UPDATE EmpleadosConformado "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE EmpleadoId=NEW.EmpleadoId AND ConformadoId=NEW.ConformadoId; "
      "END;",
  "CREATE TRIGGER tI_Foto "
      "AFTER INSERT ON Foto "
      "BEGIN "
      "UPDATE Foto "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.FotoId "
      "ELSE '' END "
      "WHERE FotoId=NEW.FotoId; "
      "END;",
  "CREATE TRIGGER tU_Foto "
      "AFTER UPDATE ON Foto "
      "BEGIN "
      "UPDATE Foto "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE FotoId=NEW.FotoId; "
      "END;",
  "CREATE TRIGGER tI_JuntaFN "
      "AFTER INSERT ON JuntaFN "
      "BEGIN "
      "UPDATE JuntaFN "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.JuntaFNId "
      "ELSE '' END "
      "WHERE JuntaFNId=NEW.JuntaFNId; "
      "END;",
  "CREATE TRIGGER tU_JuntaFN "
      "AFTER UPDATE ON JuntaFN "
      "BEGIN "
      "UPDATE JuntaFN "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE JuntaFNId=NEW.JuntaFNId; "
      "END;",
  "CREATE TRIGGER tI_EmpleadosSoldaduraFN "
      "AFTER INSERT ON EmpleadosSoldaduraFN "
      "BEGIN "
      "UPDATE EmpleadosSoldaduraFN "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.EmpleadosSoldaduraFNId "
      "ELSE '' END "
      "WHERE EmpleadosSoldaduraFNId=NEW.EmpleadosSoldaduraFNId; "
      "END;",
  "CREATE TRIGGER tU_EmpleadosSoldaduraFN "
      "AFTER UPDATE ON EmpleadosSoldaduraFN "
      "BEGIN "
      "UPDATE EmpleadosSoldaduraFN "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE EmpleadosSoldaduraFNId=NEW.EmpleadosSoldaduraFNId; "
      "END;",
  "CREATE TRIGGER tI_Documentos "
      "AFTER INSERT ON Documentos "
      "BEGIN "
      "UPDATE Documentos "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.DocumentoId "
      "ELSE '' END "
      "WHERE DocumentoId=NEW.DocumentoId; "
      "END;",
  "CREATE TRIGGER tU_Documentos "
      "AFTER UPDATE ON Documentos "
      "BEGIN "
      "UPDATE Documentos "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE DocumentoId=NEW.DocumentoId; "
      "END;",
  "CREATE TRIGGER tI_SalidaNoConforme "
      "AFTER INSERT ON SalidaNoConforme "
      "BEGIN "
      "UPDATE SalidaNoConforme "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.SalidaNoConformeId "
      "ELSE '' END "
      "WHERE SalidaNoConformeId=NEW.SalidaNoConformeId; "
      "END;",
  "CREATE TRIGGER tU_SalidaNoConforme "
      "AFTER UPDATE ON SalidaNoConforme "
      "BEGIN "
      "UPDATE SalidaNoConforme "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE SalidaNoConformeId=NEW.SalidaNoConformeId; "
      "END;",
  "CREATE TRIGGER tI_DescripcionDisposicion "
      "AFTER INSERT ON DescripcionDisposicion "
      "BEGIN "
      "UPDATE DescripcionDisposicion "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.DescripcionDisposicionId "
      "ELSE '' END "
      "WHERE DescripcionDisposicionId=NEW.DescripcionDisposicionId; "
      "END;",
  "CREATE TRIGGER tU_DescripcionDisposicion "
      "AFTER UPDATE ON DescripcionDisposicion "
      "BEGIN "
      "UPDATE DescripcionDisposicion "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE DescripcionDisposicionId=NEW.DescripcionDisposicionId; "
      "END;",
  "CREATE TRIGGER tI_RecursosPlaneados "
      "AFTER INSERT ON RecursosPlaneados "
      "BEGIN "
      "UPDATE RecursosPlaneados "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.DescripcionDisposicionId||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE DescripcionDisposicionId=NEW.DescripcionDisposicionId AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_RecursosPlaneados "
      "AFTER UPDATE ON RecursosPlaneados "
      "BEGIN "
      "UPDATE RecursosPlaneados "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE DescripcionDisposicionId=NEW.DescripcionDisposicionId AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_RIA "
      "AFTER INSERT ON RIA "
      "BEGIN "
      "UPDATE RIA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.RIAId "
      "ELSE '' END "
      "WHERE RIAId=NEW.RIAId; "
      "END;",
  "CREATE TRIGGER tU_RIA "
      "AFTER UPDATE ON RIA "
      "BEGIN "
      "UPDATE RIA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE RIAId=NEW.RIAId; "
      "END;",
  "CREATE TRIGGER tI_ReporteInspeccionActividad "
      "AFTER INSERT ON ReporteInspeccionActividad "
      "BEGIN "
      "UPDATE ReporteInspeccionActividad "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoPlanInspeccion||','||NEW.SiteId||','||CAST(NEW.PropuestaTecnicaId AS TEXT)||','||CAST(NEW.ActividadId AS TEXT)||','||CAST(NEW.SubActividadId AS TEXT)||','||NEW.IdTrazabilidad||','||NEW.MaterialId "
      "ELSE '' END "
      "WHERE NoPlanInspeccion=NEW.NoPlanInspeccion AND SiteId=NEW.SiteId AND PropuestaTecnicaId=NEW.PropuestaTecnicaId AND ActividadId=NEW.ActividadId AND SubActividadId=NEW.SubActividadId AND IdTrazabilidad=NEW.IdTrazabilidad AND MaterialId=NEW.MaterialId; "
      "END;",
  "CREATE TRIGGER tU_ReporteInspeccionActividad "
      "AFTER UPDATE ON ReporteInspeccionActividad "
      "BEGIN "
      "UPDATE ReporteInspeccionActividad "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoPlanInspeccion=NEW.NoPlanInspeccion AND SiteId=NEW.SiteId AND PropuestaTecnicaId=NEW.PropuestaTecnicaId AND ActividadId=NEW.ActividadId AND SubActividadId=NEW.SubActividadId AND IdTrazabilidad=NEW.IdTrazabilidad AND MaterialId=NEW.MaterialId; "
      "END;",
  "CREATE TRIGGER tI_InspeccionActividadSoldador "
      "AFTER INSERT ON InspeccionActividadSoldador "
      "BEGIN "
      "UPDATE InspeccionActividadSoldador "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.SoldadorActividadId "
      "ELSE '' END "
      "WHERE SoldadorActividadId=NEW.SoldadorActividadId; "
      "END;",
  "CREATE TRIGGER tU_InspeccionActividadSoldador "
      "AFTER UPDATE ON InspeccionActividadSoldador "
      "BEGIN "
      "UPDATE InspeccionActividadSoldador "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE SoldadorActividadId=NEW.SoldadorActividadId; "
      "END;",
  "CREATE TRIGGER tI_SoldadorTrazabilidad "
      "AFTER INSERT ON SoldadorTrazabilidad "
      "BEGIN "
      "UPDATE SoldadorTrazabilidad "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.SoldadorActividadId||','||NEW.SoldadorId||','||NEW.IdTrazabilidad||','||CAST(NEW.Numero AS TEXT) "
      "ELSE '' END "
      "WHERE SoldadorActividadId=NEW.SoldadorActividadId AND SoldadorId=NEW.SoldadorId AND IdTrazabilidad=NEW.IdTrazabilidad AND Numero=NEW.Numero; "
      "END;",
  "CREATE TRIGGER tU_SoldadorTrazabilidad "
      "AFTER UPDATE ON SoldadorTrazabilidad "
      "BEGIN "
      "UPDATE SoldadorTrazabilidad "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE SoldadorActividadId=NEW.SoldadorActividadId AND SoldadorId=NEW.SoldadorId AND IdTrazabilidad=NEW.IdTrazabilidad AND Numero=NEW.Numero; "
      "END;",
  "CREATE TRIGGER tI_CondicionesAmbientalesIPA "
      "AFTER INSERT ON CondicionesAmbientalesIPA "
      "BEGIN "
      "UPDATE CondicionesAmbientalesIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_CondicionesAmbientalesIPA "
      "AFTER UPDATE ON CondicionesAmbientalesIPA "
      "BEGIN "
      "UPDATE CondicionesAmbientalesIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_EtapasMaterialesIPA "
      "AFTER INSERT ON EtapasMaterialesIPA "
      "BEGIN "
      "UPDATE EtapasMaterialesIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_EtapasMaterialesIPA "
      "AFTER UPDATE ON EtapasMaterialesIPA "
      "BEGIN "
      "UPDATE EtapasMaterialesIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_EtapasMaterialesDIPA "
      "AFTER INSERT ON EtapasMaterialesDIPA "
      "BEGIN "
      "UPDATE EtapasMaterialesDIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||CAST(NEW.MaterialIdIPA AS TEXT)||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND MaterialIdIPA=NEW.MaterialIdIPA AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_EtapasMaterialesDIPA "
      "AFTER UPDATE ON EtapasMaterialesDIPA "
      "BEGIN "
      "UPDATE EtapasMaterialesDIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND MaterialIdIPA=NEW.MaterialIdIPA AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_EquiposIMPIPA "
      "AFTER INSERT ON EquiposIMPIPA "
      "BEGIN "
      "UPDATE EquiposIMPIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_EquiposIMPIPA "
      "AFTER UPDATE ON EquiposIMPIPA "
      "BEGIN "
      "UPDATE EquiposIMPIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_MaterialesIPA "
      "AFTER INSERT ON MaterialesIPA "
      "BEGIN "
      "UPDATE MaterialesIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||','||CAST(NEW.MaterialIdIPA AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND MaterialIdIPA=NEW.MaterialIdIPA; "
      "END;",
  "CREATE TRIGGER tU_MaterialesIPA "
      "AFTER UPDATE ON MaterialesIPA "
      "BEGIN "
      "UPDATE MaterialesIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND MaterialIdIPA=NEW.MaterialIdIPA; "
      "END;",
  "CREATE TRIGGER tI_AnticorrosivoIPA "
      "AFTER INSERT ON AnticorrosivoIPA "
      "BEGIN "
      "UPDATE AnticorrosivoIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro; "
      "END;",
  "CREATE TRIGGER tU_AnticorrosivoIPA "
      "AFTER UPDATE ON AnticorrosivoIPA "
      "BEGIN "
      "UPDATE AnticorrosivoIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro; "
      "END;",
  "CREATE TRIGGER tI_AplicacionRecubrimientoIPA "
      "AFTER INSERT ON AplicacionRecubrimientoIPA "
      "BEGIN "
      "UPDATE AplicacionRecubrimientoIPA "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.NoRegistro||','||CAST(NEW.Orden AS TEXT) "
      "ELSE '' END "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tU_AplicacionRecubrimientoIPA "
      "AFTER UPDATE ON AplicacionRecubrimientoIPA "
      "BEGIN "
      "UPDATE AplicacionRecubrimientoIPA "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE NoRegistro=NEW.NoRegistro AND Orden=NEW.Orden; "
      "END;",
  "CREATE TRIGGER tI_CriterioAceptacionAsignacion "
      "AFTER INSERT ON CriterioAceptacionAsignacion "
      "BEGIN "
      "UPDATE CriterioAceptacionAsignacion "
      "SET "
      "RegDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN (SELECT Valor FROM VariablesSistema WHERE VariableSistemaId='DISPOSITIVO') "
      "ELSE '' END,"
      "RegIdEnDispositivo=CASE "
      "WHEN IFNULL(NEW.RegDispositivo,'')<>'SERVER' "
      "THEN NEW.CriterioAceptacionId||','||NEW.NombreTabla||','||NEW.IdentificadorTabla "
      "ELSE '' END "
      "WHERE CriterioAceptacionId=NEW.CriterioAceptacionId AND NombreTabla=NEW.NombreTabla AND IdentificadorTabla=NEW.IdentificadorTabla; "
      "END;",
  "CREATE TRIGGER tU_CriterioAceptacionAsignacion "
      "AFTER UPDATE ON CriterioAceptacionAsignacion "
      "BEGIN "
      "UPDATE CriterioAceptacionAsignacion "
      "SET RegFechaRev=(SELECT strftime('%Y-%m-%d %H:%M:%f', datetime('now', 'localtime'))) "
      "WHERE CriterioAceptacionId=NEW.CriterioAceptacionId AND NombreTabla=NEW.NombreTabla AND IdentificadorTabla=NEW.IdentificadorTabla; "
      "END;",
  "CREATE INDEX ix_propuestatecnica_site_pt_rb ON PropuestaTecnica "
  "( "
    "SiteId, "
    "PropuestaTecnicaId, "
    "RegBorrado "
  ");",
  "CREATE INDEX ix_propuestatecnica_site_pt_rb_ct_ob ON PropuestaTecnica "
  "( "
    "SiteId, "
    "PropuestaTecnicaId, "
    "ContratoId, "
    "ObraId, "
    "RegBorrado "
  ");",
  "CREATE INDEX ix_propuestatecnica_site_pt_ct_rb ON PropuestaTecnica"
  "("
    "PropuestaTecnicaId,"
    "ContratoId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_foliospropuestatecnica_site_pt_rb ON FoliosPropuestaTecnica"
  "("
    "SiteId, "
    "PropuestaTecnicaId, "
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicaactividadesh_pt_site_repro_acth_act_rb ON PropuestaTecnicaActividadesH"
  "("
    "PropuestaTecnicaId,"
    "SiteId,"
    "ReprogramacionOTId,"
    "ActividadHId,"
    "ActividadId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicaactividadesh_frente_pt_repro_site_rb ON PropuestaTecnicaActividadesH"
  "("
    "FrenteId,"
    "PropuestaTecnicaId,	"
    "ReprogramacionOTId,"
    "SiteId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicaactividadesh_plano_pt_repro_site_rb ON PropuestaTecnicaActividadesH"
  "("
    "PlanoId,"
    "PropuestaTecnicaId,	"
    "ReprogramacionOTId,"
    "SiteId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicaactividadesh_site_pt_act ON PropuestaTecnicaActividadesH"
  "("
    "SiteId,"
    "PropuestaTecnicaId,"
    "ActividadId"
  ");",
  "CREATE INDEX ix_propuestatecnicaactividades_pt_site_rb ON PropuestaTecnicaActividades"
  "("
    "PropuestaTecnicaId,"
    "EspecialidadId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividades_site_pt_act_rb ON PropuestaTecnicaSubActividades"
  "("
    "SiteId,"
    "PropuestaTecnicaId,"
    "ActividadId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividades_site_pt_act_subact ON PropuestaTecnicaSubActividades"
  "("
    "SiteId,"
    "PropuestaTecnicaId,"
    "ActividadId,"
    "SubActividadId"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividadesh_site_pt_act_subact ON PropuestaTecnicaSubActividadesH"
  "("
    "SiteId,"
    "PropuestaTecnicaId,"
    "ActividadId,"
    "SubActividadId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividadesh_pt_repro_site_rb_subacth_subact ON PropuestaTecnicaSubActividadesH"
  "("
    "PropuestaTecnicaId,"
    "ReprogramacionOTId,"
    "SiteId,"
    "RegBorrado,"
    "SubActividadHId,"
    "SubActividadId"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividadesh_act_subact_rb ON PropuestaTecnicaSubActividadesH"
  "("
    "ActividadId,"
    "SubActividadId,"
    "RegBorrado"
  ");",
  "CREATE INDEX ix_propuestatecnicasubactividadesh_repro_act_subact_rb ON PropuestaTecnicaSubActividadesH"
  "("
    "ReprogramacionOTId,"
    "ActividadId,"
    "SubActividadId,"
    "RegBorrado"
  ");",
];
